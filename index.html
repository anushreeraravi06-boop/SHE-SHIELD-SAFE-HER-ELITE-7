<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>She Shield</title>

<style>

body{
margin:0;
font-family:Arial;
background:linear-gradient(to bottom,#fde9e3,#f4ede7);
text-align:center;
}

.container{
max-width:420px;
margin:auto;
padding:15px;
}

.logo{
width:160px;
margin-top:20px;
}

h1{color:#d46a4d;}

.card{
background:white;
padding:15px;
margin:15px 0;
border-radius:18px;
box-shadow:0 5px 15px rgba(0,0,0,0.1);
}

button{
width:100%;
padding:14px;
margin-top:10px;
border:none;
border-radius:12px;
background:linear-gradient(45deg,#e58c5c,#f3a36e);
color:white;
font-size:16px;
font-weight:bold;
}

input{
width:90%;
padding:10px;
margin:5px;
border-radius:8px;
border:1px solid #ccc;
}

ul{list-style:none;padding:0;}

/* FAKE CALL SCREEN */

#fakeCallScreen{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:#111;
color:white;
display:none;
align-items:center;
justify-content:center;
flex-direction:column;
z-index:999;
}

.callbtn{
width:80px;
height:80px;
border-radius:50%;
font-size:20px;
margin:20px;
}

.green{background:#2ecc71;}
.red{background:#e74c3c;}

</style>
</head>

<body>

<div class="container">

<img src="logo.png.jpeg" class="logo">
<h1>She-Shield</h1>

<div class="card">
<h3>Trusted Contacts</h3>
<input id="name" placeholder="Contact Name">
<input id="phone" placeholder="Phone Number">
<button onclick="saveContact()">Save Contact</button>
<ul id="list"></ul>
</div>

<div class="card">
<h3>Siren Alert</h3>
<button onclick="startSiren()">Start Siren</button>
<button onclick="stopSiren()">Stop Siren</button>
</div>

<div class="card">
<h3>Emergency SOS</h3>
<button onclick="sendSOS()">Emergency SOS</button>
<button onclick="autoSOS()">Auto Count SOS (10s)</button>
</div>

<div class="card">
<h3>Voice Help</h3>
<button onclick="startVoice()">Say "Help Me"</button>
</div>

<div class="card">
<h3>Fake Call</h3>
<button onclick="fakeCall()">Open Fake Call</button>
</div>

<div class="card">
<h3>Fake Message</h3>
<input id="msg" placeholder="Type Message">
<button onclick="fakeMsg()">Send</button>
<p id="showmsg"></p>
</div>

</div>

<!-- REALISTIC FAKE CALL SCREEN -->
<div id="fakeCallScreen">
<h2>ðŸ“ž Mom Calling...</h2>
<button class="callbtn green" onclick="acceptCall()">âœ”</button>
<button class="callbtn red" onclick="endCall()">âœ–</button>
</div>

<audio id="sirenAudio" loop>
<source src="https://www.soundjay.com/misc/sounds/siren-01.mp3">
</audio>

<script>

let contacts=[];

function saveContact(){
let n=name.value;
let p=phone.value;
if(n==""||p==""){alert("Enter details");return;}
contacts.push({n,p});
let li=document.createElement("li");
li.innerText=n+" - "+p;
list.appendChild(li);
}

function startSiren(){sirenAudio.play();}
function stopSiren(){sirenAudio.pause();}

function getLocation(){
navigator.geolocation.getCurrentPosition(pos=>{
alert("Location Shared:\n"+pos.coords.latitude+","+pos.coords.longitude);
});
}

function sendSOS(){
startSiren();
getLocation();
}

function autoSOS(){
let c=10;
let timer=setInterval(()=>{
c--;
if(c==0){
clearInterval(timer);
sendSOS();
}
},1000);
}

/* REAL FAKE CALL */

function fakeCall(){
document.getElementById("fakeCallScreen").style.display="flex";
}

function acceptCall(){
alert("Call Connected...");
endCall();
}

function endCall(){
document.getElementById("fakeCallScreen").style.display="none";
}

/* FAKE MESSAGE */

function fakeMsg(){
showmsg.innerText=msg.value;
}

/* VOICE HELP */

function startVoice(){
const rec=new webkitSpeechRecognition();
rec.onresult=function(e){
let text=e.results[0][0].transcript.toLowerCase();
if(text.includes("help me")){
sendSOS();
}
}
rec.start();
}

/* SHAKE SOS */

let lastX,lastY,lastZ;
window.addEventListener("devicemotion",e=>{
let a=e.accelerationIncludingGravity;
if(!lastX){
lastX=a.x;lastY=a.y;lastZ=a.z;
return;
}
let diff=Math.abs(a.x+a.y+a.z-lastX-lastY-lastZ);
if(diff>25){
sendSOS();
}
lastX=a.x;lastY=a.y;lastZ=a.z;
});

</script>

</body>
</html>
